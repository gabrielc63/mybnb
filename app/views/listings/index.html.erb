 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Search Form with Turbo -->
    <%= turbo_frame_tag "search_filters" do %>
      <%= form_with url: search_listings_path, method: :get,
                    data: { turbo_frame: "listings_results", turbo_action: "advance" } do |f| %>
        <div class="bg-white border border-gray-300 rounded-full shadow-lg hover:shadow-xl transition-shadow mb-8">
          <div class="grid grid-cols-1 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x divide-gray-300">

            <!-- Location -->
            <div class="flex flex-col px-8 py-4 hover:bg-gray-50 rounded-l-full transition">
              <label class="text-xs font-semibold text-gray-900 mb-1">Where</label>
              <%= f.text_field :query,
                              placeholder: "Search destinations",
                              class: "search-input-airbnb" %>
            </div>

            <!-- Check-in -->
            <div class="flex flex-col px-8 py-4 hover:bg-gray-50 transition">
              <label class="text-xs font-semibold text-gray-900 mb-1">Check in</label>
              <%= f.date_field :check_in,
                              placeholder: "Add dates",
                              class: "search-input-airbnb" %>
            </div>

            <!-- Check-out -->
            <div class="flex flex-col px-8 py-4 hover:bg-gray-50 transition">
              <label class="text-xs font-semibold text-gray-900 mb-1">Check out</label>
              <%= f.date_field :check_out,
                              placeholder: "Add dates",
                              class: "search-input-airbnb" %>
            </div>

            <!-- Guests -->
            <div class="flex items-center justify-between px-8 py-4 hover:bg-gray-50 rounded-r-full transition">
              <div class="flex flex-col flex-1">
                <label class="text-xs font-semibold text-gray-900 mb-1">Guests</label>
                <%= f.number_field :guests,
                                  placeholder: "Add guests",
                                  min: 1,
                                  class: "search-input-airbnb" %>
              </div>
              <%= f.button type: "submit", class: "bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-full p-4 ml-4 transition flex-shrink-0" do %>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.5 10.5L15 14M7 13C3.68629 13 1 10.3137 1 7C1 3.68629 3.68629 1 7 1C10.3137 1 13 3.68629 13 7C13 10.3137 10.3137 13 7 13Z" stroke="white" stroke-width="2" stroke-linecap="round"/>
                </svg>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>

    <!-- Listings Grid with Turbo Frame -->
    <%= turbo_frame_tag "listings_results" do %>
      <div class="listings-grid">
        <%= render @listings %>
      </div>

      <%== pagy_nav(@pagy) if @pagy %>
    <% end %>
  </div>
